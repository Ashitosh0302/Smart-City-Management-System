<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swim Nearby - Find Swimming Pools</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0066cc 0%, #0099cc 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .pool-finder-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            margin-bottom: 40px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .location-selector {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .location-option {
            flex: 1;
            min-width: 200px;
        }
        
        .location-option h3 {
            margin-bottom: 15px;
            color: #2d3748;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .gps-button {
            background: linear-gradient(135deg, #0066cc 0%, #0099cc 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .gps-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 102, 204, 0.4);
        }
        
        .gps-button .icon {
            font-size: 1.5rem;
        }
        
        .search-button {
            background: linear-gradient(135deg, #00cc66 0%, #00994c 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            width: 100%;
            transition: all 0.3s;
            margin-top: 30px;
        }
        
        .search-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 204, 102, 0.4);
        }
        
        .location-display {
            background: linear-gradient(135deg, #e6f2ff 0%, #ccf2ff 100%);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
        }
        
        .location-display.active {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .location-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .location-detail {
            display: flex;
            flex-direction: column;
        }
        
        .location-label {
            font-size: 0.9rem;
            color: #4a5568;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .location-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #0066cc;
        }
        
        .filter-section {
            margin: 30px 0;
        }
        
        .filter-header {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pool-type-filter {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .pool-type-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }
        
        .pool-type-card:hover {
            border-color: #0066cc;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .pool-type-card.active {
            border-color: #0066cc;
            background: linear-gradient(135deg, #0066cc 0%, #0099cc 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 102, 204, 0.2);
        }
        
        .pool-type-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .pool-type-name {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .pool-type-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .features-filter {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }
        
        .feature-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .feature-checkbox:hover {
            background: #e6f2ff;
            transform: translateY(-2px);
        }
        
        .feature-checkbox input {
            width: 20px;
            height: 20px;
            accent-color: #0066cc;
        }
        
        .feature-label {
            font-weight: 500;
            color: #2d3748;
        }
        
        .distance-filter {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 30px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 12px;
        }
        
        .distance-slider {
            flex: 1;
        }
        
        .distance-label {
            font-weight: 600;
            color: #2d3748;
            min-width: 150px;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: #cbd5e0;
            border-radius: 4px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: #0066cc;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        
        .distance-value {
            font-weight: 700;
            color: #0066cc;
            min-width: 60px;
            text-align: right;
        }
        
        .price-filter {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 12px;
        }
        
        .price-range {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .price-input {
            width: 120px;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .price-input:focus {
            outline: none;
            border-color: #0066cc;
        }
        
        .results-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            margin-bottom: 40px;
            display: none;
        }
        
        .results-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #e2e8f0;
        }
        
        .results-title {
            font-size: 1.8rem;
            color: #2d3748;
            font-weight: 700;
        }
        
        .results-count {
            background: #0066cc;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .pools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
        }
        
        .pool-card {
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s;
            background: white;
            position: relative;
        }
        
        .pool-card:hover {
            border-color: #0066cc;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .pool-image {
            height: 200px;
            background: linear-gradient(135deg, #0066cc 0%, #0099cc 100%);
            position: relative;
            overflow: hidden;
        }
        
        .pool-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,0,0,0.2), transparent);
        }
        
        .pool-type {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.9);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #0066cc;
        }
        
        .pool-distance {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .pool-content {
            padding: 25px;
        }
        
        .pool-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .pool-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }
        
        .pool-price {
            font-size: 1.6rem;
            font-weight: 700;
            color: #0066cc;
            background: #e6f2ff;
            padding: 5px 15px;
            border-radius: 10px;
            white-space: nowrap;
        }
        
        .pool-address {
            color: #718096;
            font-size: 0.95rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .pool-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stars {
            color: #f6ad55;
        }
        
        .rating-value {
            font-weight: 600;
            color: #2d3748;
        }
        
        .review-count {
            color: #718096;
            font-size: 0.9rem;
        }
        
        .pool-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        
        .feature {
            background: #e6f2ff;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            color: #2d3748;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .pool-timing {
            background: #f7fafc;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .timing-title {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }
        
        .timing-slots {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .time-slot {
            background: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 0.9rem;
            border: 1px solid #e2e8f0;
        }
        
        .pool-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 2px solid #f7fafc;
        }
        
        .pool-status {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-open {
            color: #00cc66;
            font-weight: 600;
        }
        
        .status-closed {
            color: #cc3300;
            font-weight: 600;
        }
        
        .book-button {
            background: linear-gradient(135deg, #00cc66 0%, #00994c 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .book-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 204, 102, 0.3);
        }
        
        .map-container {
            height: 400px;
            background: #e6f2ff;
            border-radius: 15px;
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            overflow: hidden;
        }
        
        .map-header {
            width: 100%;
            padding: 20px;
            background: #0066cc;
            color: white;
            text-align: center;
        }
        
        .map-placeholder {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }
        
        .no-results {
            text-align: center;
            padding: 60px 40px;
            color: #718096;
            font-size: 1.2rem;
            background: #f7fafc;
            border-radius: 15px;
            border: 2px dashed #cbd5e0;
        }
        
        .loading {
            text-align: center;
            padding: 60px;
            color: #0066cc;
            font-size: 1.2rem;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0066cc;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 992px) {
            .pools-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .location-selector {
                flex-direction: column;
            }
            
            .pool-type-filter {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .pool-finder-card, .results-section {
                padding: 25px;
            }
            
            .pools-grid {
                grid-template-columns: 1fr;
            }
            
            .features-filter {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pool-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .pool-price {
                align-self: flex-start;
            }
        }
        
        .current-location {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            background: linear-gradient(135deg, #0066cc 0%, #0099cc 100%);
            color: white;
            border-radius: 10px;
            margin-top: 20px;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 102, 204, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 102, 204, 0); }
        }
        
        .water-animation {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.3;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
            animation: waterFlow 3s infinite linear;
        }
        
        @keyframes waterFlow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèä Swim Nearby - Find Pools</h1>
            <p>Discover swimming pools, aquatic centers, and water parks near you</p>
        </div>
        
        <div class="pool-finder-card">
            <div class="location-selector">
                <div class="location-option">
                    <h3>üìç Use Current Location</h3>
                    <button class="gps-button" onclick="getCurrentLocation()">
                        <span class="icon">üìç</span>
                        Detect My Location
                    </button>
                </div>
                
                <div class="location-option">
                    <h3>üèôÔ∏è Or Select City</h3>
                    <select id="citySelect" style="width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 1rem;">
                        <option value="">-- Select a City --</option>
                        <option value="mumbai">Mumbai</option>
                        <option value="delhi">Delhi</option>
                        <option value="bangalore">Bangalore</option>
                        <option value="chennai">Chennai</option>
                        <option value="hyderabad">Hyderabad</option>
                        <option value="pune">Pune</option>
                        <option value="goa">Goa</option>
                        <option value="kolkata">Kolkata</option>
                    </select>
                </div>
            </div>
            
            <div class="location-display" id="locationDisplay">
                <div class="current-location" id="currentLocationDisplay">
                    üìç Your Current Location
                </div>
                <div class="location-info">
                    <div class="location-detail">
                        <span class="location-label">Latitude</span>
                        <span class="location-value" id="latitude">0.0000</span>
                    </div>
                    <div class="location-detail">
                        <span class="location-label">Longitude</span>
                        <span class="location-value" id="longitude">0.0000</span>
                    </div>
                    <div class="location-detail">
                        <span class="location-label">Accuracy</span>
                        <span class="location-value" id="accuracy">0 meters</span>
                    </div>
                    <div class="location-detail">
                        <span class="location-label">Address</span>
                        <span class="location-value" id="address">Detecting...</span>
                    </div>
                </div>
            </div>
            
            <div class="filter-section">
                <div class="filter-header">üèä Select Pool Type</div>
                <div class="pool-type-filter">
                    <div class="pool-type-card active" onclick="selectPoolType('all')">
                        <div class="pool-type-icon">üèä‚Äç‚ôÇÔ∏è</div>
                        <div class="pool-type-name">All Pools</div>
                        <div class="pool-type-desc">Show all swimming facilities</div>
                    </div>
                    <div class="pool-type-card" onclick="selectPoolType('olympic')">
                        <div class="pool-type-icon">ü•á</div>
                        <div class="pool-type-name">Olympic Pools</div>
                        <div class="pool-type-desc">50m professional pools</div>
                    </div>
                    <div class="pool-type-card" onclick="selectPoolType('leisure')">
                        <div class="pool-type-icon">üåä</div>
                        <div class="pool-type-name">Leisure Pools</div>
                        <div class="pool-type-desc">Family & recreational</div>
                    </div>
                    <div class="pool-type-card" onclick="selectPoolType('indoor')">
                        <div class="pool-type-icon">üè¢</div>
                        <div class="pool-type-name">Indoor Pools</div>
                        <div class="pool-type-desc">Climate controlled</div>
                    </div>
                    <div class="pool-type-card" onclick="selectPoolType('outdoor')">
                        <div class="pool-type-icon">‚òÄÔ∏è</div>
                        <div class="pool-type-name">Outdoor Pools</div>
                        <div class="pool-type-desc">Open air swimming</div>
                    </div>
                    <div class="pool-type-card" onclick="selectPoolType('aquapark')">
                        <div class="pool-type-icon">üé°</div>
                        <div class="pool-type-name">Water Parks</div>
                        <div class="pool-type-desc">Slides & attractions</div>
                    </div>
                </div>
                
                <div class="filter-header">üéØ Filter by Features</div>
                <div class="features-filter">
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureHeated" checked>
                        <span class="feature-label">üî• Heated Pool</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureTraining" checked>
                        <span class="feature-label">üéì Swimming Lessons</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureParking" checked>
                        <span class="feature-label">üÖøÔ∏è Parking Available</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureChanging" checked>
                        <span class="feature-label">üöø Changing Rooms</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureJacuzzi">
                        <span class="feature-label">üíÜ Jacuzzi/Spa</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureDiving">
                        <span class="feature-label">ü§ø Diving Board</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureSauna">
                        <span class="feature-label">üßñ Sauna</span>
                    </label>
                    <label class="feature-checkbox">
                        <input type="checkbox" id="featureCafe">
                        <span class="feature-label">‚òï Cafe/Restaurant</span>
                    </label>
                </div>
                
                <div class="distance-filter">
                    <div class="distance-label">Search Radius:</div>
                    <div class="distance-slider">
                        <input type="range" id="distanceSlider" min="1" max="15" value="5" oninput="updateDistanceValue()">
                    </div>
                    <div class="distance-value" id="distanceValue">5 km</div>
                </div>
                
                <div class="price-filter">
                    <div class="distance-label">Price Range (per hour):</div>
                    <div class="price-range">
                        <input type="number" id="priceMin" class="price-input" placeholder="Min ‚Çπ" value="100" min="0">
                        <span>to</span>
                        <input type="number" id="priceMax" class="price-input" placeholder="Max ‚Çπ" value="1000" min="0">
                    </div>
                </div>
            </div>
            
            <button class="search-button" onclick="searchNearbyPools()">
                <span class="icon">üîç</span>
                Find Swimming Pools
            </button>
        </div>
        
        <div class="results-section" id="resultsSection">
            <div class="results-header">
                <div class="results-title" id="resultsTitle">Nearby Swimming Pools</div>
                <div class="results-count" id="resultsCount">0 pools found</div>
            </div>
            
            <div id="poolsGrid" class="pools-grid">
                <!-- Pools will be loaded here -->
            </div>
            
            <div class="map-container">
                <div class="map-header">üó∫Ô∏è Nearby Swimming Pools Map</div>
                <div class="map-placeholder">
                    <div style="text-align: center;">
                        <div style="font-size: 4rem; margin-bottom: 20px;">üèä‚Äç‚ôÄÔ∏è</div>
                        <div>Interactive map would show pool locations here</div>
                        <div style="font-size: 0.9rem; color: #718096; margin-top: 10px;">Integrated with Google Maps API</div>
                    </div>
                </div>
            </div>
            
            <div class="loading" id="loading" style="display: none;">
                <div class="loading-spinner"></div>
                Finding swimming pools near you...
            </div>
            <div class="no-results" id="noResults" style="display: none;">
                üö´ No swimming pools found within your search criteria.
                Try increasing the distance or adjusting filters.
            </div>
        </div>
    </div>

    <script>
        // Sample pool data for different cities
        const cityPools = {
            mumbai: [
                { id: 1, name: "Andheri Sports Complex Pool", type: "olympic", lat: 19.1197, lng: 72.8463,
                  address: "Veera Desai Road, Andheri West, Mumbai", rating: 4.4, distance: 1.2, reviews: 156,
                  price: 250, status: "open", features: ["heated", "training", "parking", "changing", "diving"],
                  timing: ["6:00 AM - 8:00 AM", "9:00 AM - 11:00 AM", "4:00 PM - 8:00 PM"],
                  description: "Olympic-sized pool with professional coaching" },
                { id: 2, name: "Juhu Beach Wave Pool", type: "leisure", lat: 19.1074, lng: 72.8263,
                  address: "Juhu Tara Road, Mumbai", rating: 4.2, distance: 0.8, reviews: 89,
                  price: 400, status: "open", features: ["heated", "parking", "cafe"],
                  timing: ["7:00 AM - 10:00 PM"],
                  description: "Beachfront leisure pool with wave machine" },
                { id: 3, name: "Powai Aquatic Center", type: "indoor", lat: 19.1224, lng: 72.9053,
                  address: "Hiranandani Gardens, Powai, Mumbai", rating: 4.6, distance: 2.5, reviews: 203,
                  price: 600, status: "open", features: ["heated", "training", "parking", "changing", "jacuzzi", "sauna"],
                  timing: ["5:30 AM - 10:00 PM"],
                  description: "Luxury indoor aquatic complex with spa facilities" },
                { id: 4, name: "Worli Sea Face Pool", type: "outdoor", lat: 18.9989, lng: 72.8184,
                  address: "Worli Sea Face, Mumbai", rating: 4.1, distance: 3.2, reviews: 67,
                  price: 150, status: "open", features: ["parking", "changing"],
                  timing: ["6:00 AM - 10:00 AM", "4:00 PM - 8:00 PM"],
                  description: "Historic outdoor pool with sea view" },
                { id: 5, name: "Water Kingdom", type: "aquapark", lat: 19.1334, lng: 72.8190,
                  address: "Gorai, Mumbai", rating: 4.7, distance: 8.5, reviews: 456,
                  price: 1200, status: "open", features: ["parking", "changing", "cafe", "jacuzzi"],
                  timing: ["10:00 AM - 6:00 PM"],
                  description: "India's largest theme water park" },
                { id: 6, name: "Chembur Swimming Pool", type: "olympic", lat: 19.0586, lng: 72.8991,
                  address: "Chembur, Mumbai", rating: 3.9, distance: 4.1, reviews: 45,
                  price: 180, status: "open", features: ["training", "changing"],
                  timing: ["6:00 AM - 9:00 AM", "4:00 PM - 7:00 PM"],
                  description: "Public Olympic pool with training programs" }
            ],
            delhi: [
                { id: 7, name: "Siri Fort Sports Complex", type: "olympic", lat: 28.5504, lng: 77.2149,
                  address: "August Kranti Marg, Delhi", rating: 4.5, distance: 1.8, reviews: 178,
                  price: 300, status: "open", features: ["heated", "training", "parking", "changing", "diving"],
                  timing: ["6:00 AM - 9:00 PM"],
                  description: "International standard Olympic pool" },
                { id: 8, name: "Nehru Park Swimming Pool", type: "outdoor", lat: 28.5905, lng: 77.2231,
                  address: "Chanakyapuri, Delhi", rating: 4.0, distance: 2.3, reviews: 92,
                  price: 200, status: "open", features: ["parking", "changing", "training"],
                  timing: ["7:00 AM - 8:00 PM"],
                  description: "Scenic outdoor pool in Nehru Park" },
                { id: 9, name: "DLF Club 5 Pool", type: "indoor", lat: 28.4946, lng: 77.0885,
                  address: "Gurugram, Delhi NCR", rating: 4.8, distance: 12.5, reviews: 234,
                  price: 800, status: "open", features: ["heated", "training", "parking", "changing", "jacuzzi", "sauna", "cafe"],
                  timing: ["5:00 AM - 11:00 PM"],
                  description: "Luxury indoor pool with complete wellness center" }
            ],
            bangalore: [
                { id: 10, name: "Koramangala Swimming Pool", type: "olympic", lat: 12.9352, lng: 77.6245,
                  address: "Koramangala, Bangalore", rating: 4.3, distance: 1.5, reviews: 134,
                  price: 280, status: "open", features: ["heated", "training", "parking", "changing"],
                  timing: ["6:00 AM - 9:00 PM"],
                  description: "Professional swimming pool with coaching" },
                { id: 11, name: "UB City Aquatic Center", type: "indoor", lat: 12.9716, lng: 77.5946,
                  address: "UB City, Bangalore", rating: 4.7, distance: 2.1, reviews: 189,
                  price: 750, status: "open", features: ["heated", "training", "parking", "changing", "jacuzzi", "sauna"],
                  timing: ["6:00 AM - 10:00 PM"],
                  description: "Premium indoor swimming facility" },
                { id: 12, name: "Wonderla Water Park", type: "aquapark", lat: 12.8342, lng: 77.4030,
                  address: "Mysore Road, Bangalore", rating: 4.6, distance: 18.5, reviews: 567,
                  price: 1500, status: "open", features: ["parking", "changing", "cafe", "jacuzzi"],
                  timing: ["11:00 AM - 6:00 PM"],
                  description: "Thrilling water park with multiple attractions" }
            ],
            chennai: [
                { id: 13, name: "Nehru Stadium Pool", type: "olympic", lat: 13.0827, lng: 80.2785,
                  address: "Periyamet, Chennai", rating: 4.2, distance: 1.2, reviews: 98,
                  price: 220, status: "open", features: ["training", "parking", "changing", "diving"],
                  timing: ["6:00 AM - 8:00 PM"],
                  description: "Historic Olympic pool in stadium complex" },
                { id: 14, name: "MGM Beach Resort Pool", type: "leisure", lat: 12.9175, lng: 80.2493,
                  address: "ECR, Chennai", rating: 4.4, distance: 8.2, reviews: 123,
                  price: 500, status: "open", features: ["heated", "parking", "changing", "cafe", "jacuzzi"],
                  timing: ["7:00 AM - 10:00 PM"],
                  description: "Resort-style pool with beach access" }
            ],
            hyderabad: [
                { id: 15, name: "Gachibowli Stadium Pool", type: "olympic", lat: 17.4401, lng: 78.3489,
                  address: "Gachibowli, Hyderabad", rating: 4.5, distance: 2.3, reviews: 145,
                  price: 300, status: "open", features: ["heated", "training", "parking", "changing", "diving"],
                  timing: ["6:00 AM - 9:00 PM"],
                  description: "International competition standard pool" },
                { id: 16, name: "Ocean Park Hyderabad", type: "aquapark", lat: 17.4265, lng: 78.4512,
                  address: "Shamirpet, Hyderabad", rating: 4.3, distance: 15.8, reviews: 234,
                  price: 900, status: "open", features: ["parking", "changing", "cafe"],
                  timing: ["10:30 AM - 6:30 PM"],
                  description: "Water theme park with slides and pools" }
            ],
            pune: [
                { id: 17, name: "Balewadi Sports Complex", type: "olympic", lat: 18.5820, lng: 73.7707,
                  address: "Balewadi, Pune", rating: 4.6, distance: 3.2, reviews: 167,
                  price: 350, status: "open", features: ["heated", "training", "parking", "changing", "diving"],
                  timing: ["6:00 AM - 9:00 PM"],
                  description: "National Games venue with Olympic pool" },
                { id: 18, name: "Shivaji Nagar Swimming Pool", type: "outdoor", lat: 18.5314, lng: 73.8446,
                  address: "Shivaji Nagar, Pune", rating: 4.0, distance: 1.8, reviews: 78,
                  price: 150, status: "open", features: ["training", "changing"],
                  timing: ["7:00 AM - 8:00 PM"],
                  description: "Popular public swimming pool" }
            ],
            goa: [
                { id: 19, name: "Goa Marriott Resort Pool", type: "leisure", lat: 15.4929, lng: 73.8273,
                  address: "Miramar, Goa", rating: 4.8, distance: 0.5, reviews: 289,
                  price: 800, status: "open", features: ["heated", "parking", "changing", "cafe", "jacuzzi"],
                  timing: ["6:00 AM - 11:00 PM"],
                  description: "Luxury resort pool with ocean view" },
                { id: 20, name: "Club Freshwater Pool", type: "indoor", lat: 15.5589, lng: 73.7500,
                  address: "Calangute, Goa", rating: 4.4, distance: 2.1, reviews: 134,
                  price: 600, status: "open", features: ["heated", "training", "parking", "changing", "sauna"],
                  timing: ["7:00 AM - 10:00 PM"],
                  description: "Premium indoor swimming club" }
            ]
        };

        // Pool type icons and descriptions
        const poolTypeInfo = {
            olympic: { icon: "ü•á", name: "Olympic Pool", desc: "50m professional pools" },
            leisure: { icon: "üåä", name: "Leisure Pool", desc: "Family & recreational" },
            indoor: { icon: "üè¢", name: "Indoor Pool", desc: "Climate controlled" },
            outdoor: { icon: "‚òÄÔ∏è", name: "Outdoor Pool", desc: "Open air swimming" },
            aquapark: { icon: "üé°", name: "Water Park", desc: "Slides & attractions" }
        };

        // Feature icons
        const featureIcons = {
            heated: "üî•",
            training: "üéì",
            parking: "üÖøÔ∏è",
            changing: "üöø",
            jacuzzi: "üíÜ",
            diving: "ü§ø",
            sauna: "üßñ",
            cafe: "‚òï"
        };

        let currentLocation = null;
        let selectedCity = null;
        let selectedPoolType = 'all';
        let searchRadius = 5; // in kilometers
        let minPrice = 100;
        let maxPrice = 1000;

        // Initialize distance slider
        function updateDistanceValue() {
            searchRadius = document.getElementById('distanceSlider').value;
            document.getElementById('distanceValue').textContent = `${searchRadius} km`;
        }

        // Initialize price inputs
        document.getElementById('priceMin').addEventListener('input', function(e) {
            minPrice = parseInt(e.target.value) || 0;
        });

        document.getElementById('priceMax').addEventListener('input', function(e) {
            maxPrice = parseInt(e.target.value) || 1000;
        });

        // Get current location using GPS
        function getCurrentLocation() {
            const locationDisplay = document.getElementById('locationDisplay');
            const locationButton = document.querySelector('.gps-button');
            
            // Show loading state
            locationButton.innerHTML = '<span class="icon">‚è≥</span>Detecting Location...';
            locationButton.disabled = true;
            
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    (position) => {
                        // Success
                        currentLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude,
                            accuracy: position.coords.accuracy
                        };
                        
                        // Update UI
                        document.getElementById('latitude').textContent = currentLocation.lat.toFixed(6);
                        document.getElementById('longitude').textContent = currentLocation.lng.toFixed(6);
                        document.getElementById('accuracy').textContent = `${Math.round(currentLocation.accuracy)} meters`;
                        
                        // Get address from coordinates (simulated)
                        getAddressFromCoords(currentLocation.lat, currentLocation.lng);
                        
                        // Reset button
                        locationButton.innerHTML = '<span class="icon">üìç</span>Location Detected!';
                        locationButton.style.background = 'linear-gradient(135deg, #00cc66 0%, #00994c 100%)';
                        
                        // Show location display
                        locationDisplay.classList.add('active');
                        
                        // Clear selected city
                        document.getElementById('citySelect').value = '';
                        selectedCity = null;
                        
                        // Show current location indicator
                        document.getElementById('currentLocationDisplay').innerHTML = 'üìç Your Current Location';
                        
                        // Enable search
                        setTimeout(() => {
                            locationButton.innerHTML = '<span class="icon">üìç</span>Detect My Location';
                            locationButton.disabled = false;
                        }, 2000);
                    },
                    (error) => {
                        // Error
                        console.error('Error getting location:', error);
                        alert('Unable to get your location. Please enable GPS or select a city manually.');
                        locationButton.innerHTML = '<span class="icon">üìç</span>Detect My Location';
                        locationButton.disabled = false;
                    },
                    {
                        enableHighAccuracy: true,
                        timeout: 10000,
                        maximumAge: 0
                    }
                );
            } else {
                alert('Geolocation is not supported by your browser. Please select a city manually.');
                locationButton.innerHTML = '<span class="icon">üìç</span>Detect My Location';
                locationButton.disabled = false;
            }
        }

        // Simulate getting address from coordinates
        function getAddressFromCoords(lat, lng) {
            // This would normally call a geocoding API
            // For demo, we'll use a simulated response
            const addresses = [
                "Near Marine Drive, Mumbai",
                "Central Business District, Bangalore",
                "Connaught Place, Delhi",
                "Juhu Beach Area, Mumbai",
                "Powai, Mumbai",
                "Andheri West, Mumbai"
            ];
            
            const randomAddress = addresses[Math.floor(Math.random() * addresses.length)];
            document.getElementById('address').textContent = randomAddress;
        }

        // Handle city selection
        document.getElementById('citySelect').addEventListener('change', function(e) {
            selectedCity = e.target.value;
            currentLocation = null;
            
            if (selectedCity) {
                // Update location display with city center coordinates
                const cityCenters = {
                    mumbai: { lat: 19.0760, lng: 72.8777, name: "Mumbai" },
                    delhi: { lat: 28.6139, lng: 77.2090, name: "Delhi" },
                    bangalore: { lat: 12.9716, lng: 77.5946, name: "Bangalore" },
                    chennai: { lat: 13.0827, lng: 80.2707, name: "Chennai" },
                    hyderabad: { lat: 17.3850, lng: 78.4867, name: "Hyderabad" },
                    pune: { lat: 18.5204, lng: 73.8567, name: "Pune" },
                    goa: { lat: 15.2993, lng: 74.1240, name: "Goa" },
                    kolkata: { lat: 22.5726, lng: 88.3639, name: "Kolkata" }
                };
                
                const city = cityCenters[selectedCity];
                currentLocation = { lat: city.lat, lng: city.lng, accuracy: 1000 };
                
                document.getElementById('latitude').textContent = city.lat.toFixed(6);
                document.getElementById('longitude').textContent = city.lng.toFixed(6);
                document.getElementById('accuracy').textContent = "City Center";
                document.getElementById('address').textContent = `Central ${city.name}`;
                
                document.getElementById('locationDisplay').classList.add('active');
                document.getElementById('currentLocationDisplay').innerHTML = `üìç ${city.name} City Center`;
            }
        });

        // Pool type selection
        function selectPoolType(type) {
            selectedPoolType = type;
            
            // Update UI
            document.querySelectorAll('.pool-type-card').forEach(card => {
                card.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // If results are already shown, filter them
            if (document.getElementById('resultsSection').classList.contains('active')) {
                searchNearbyPools();
            }
        }

        // Get selected features
        function getSelectedFeatures() {
            const features = [];
            const checkboxes = [
                'featureHeated', 'featureTraining', 'featureParking', 'featureChanging',
                'featureJacuzzi', 'featureDiving', 'featureSauna', 'featureCafe'
            ];
            
            checkboxes.forEach(id => {
                if (document.getElementById(id).checked) {
                    features.push(id.replace('feature', '').toLowerCase());
                }
            });
            
            return features;
        }

        // Search for nearby pools
        function searchNearbyPools() {
            if (!currentLocation && !selectedCity) {
                alert('Please select your location or enable GPS first.');
                return;
            }
            
            // Show results section
            document.getElementById('resultsSection').classList.add('active');
            document.getElementById('loading').style.display = 'block';
            document.getElementById('noResults').style.display = 'none';
            document.getElementById('poolsGrid').innerHTML = '';
            
            // Get pools based on selection
            let pools = [];
            if (selectedCity && cityPools[selectedCity]) {
                pools = [...cityPools[selectedCity]];
            } else {
                // For GPS location, combine pools from all cities
                Object.values(cityPools).forEach(cityPools => {
                    pools.push(...cityPools);
                });
                
                // Simulate distance calculation
                pools.forEach(pool => {
                    // In real app, calculate actual distance using Haversine formula
                    pool.distance = Math.random() * searchRadius;
                });
            }
            
            // Simulate API delay
            setTimeout(() => {
                displayPools(pools);
            }, 1000);
        }

        // Display pools
        function displayPools(pools) {
            const poolsGrid = document.getElementById('poolsGrid');
            const loading = document.getElementById('loading');
            const noResults = document.getElementById('noResults');
            
            loading.style.display = 'none';
            poolsGrid.innerHTML = '';
            
            // Filter by distance
            const filteredPools = pools.filter(pool => pool.distance <= searchRadius);
            
            // Filter by pool type if not 'all'
            let typeFiltered = filteredPools;
            if (selectedPoolType !== 'all') {
                typeFiltered = filteredPools.filter(pool => pool.type === selectedPoolType);
            }
            
            // Filter by price
            const priceFiltered = typeFiltered.filter(pool => 
                pool.price >= minPrice && pool.price <= maxPrice
            );
            
            // Filter by features
            const selectedFeatures = getSelectedFeatures();
            let featureFiltered = priceFiltered;
            
            if (selectedFeatures.length > 0) {
                featureFiltered = priceFiltered.filter(pool => {
                    return selectedFeatures.every(feature => pool.features.includes(feature));
                });
            }
            
            if (featureFiltered.length === 0) {
                noResults.style.display = 'block';
                document.getElementById('resultsCount').textContent = '0 pools found';
                return;
            }
            
            document.getElementById('resultsCount').textContent = `${featureFiltered.length} pools found`;
            
            // Sort by distance
            featureFiltered.sort((a, b) => a.distance - b.distance);
            
            // Display pools
            featureFiltered.forEach(pool => {
                const poolCard = createPoolCard(pool);
                poolsGrid.appendChild(poolCard);
            });
            
            // Update results title
            const poolTypeName = selectedPoolType === 'all' ? 'Swimming Pools' : poolTypeInfo[selectedPoolType].name;
            document.getElementById('resultsTitle').textContent = `Nearby ${poolTypeName}`;
            
            // Add water animation to pool images
            document.querySelectorAll('.pool-image').forEach(img => {
                const waterAnim = document.createElement('div');
                waterAnim.className = 'water-animation';
                img.appendChild(waterAnim);
            });
        }

        // Create pool card HTML
        function createPoolCard(pool) {
            const card = document.createElement('div');
            card.className = 'pool-card';
            
            // Generate star rating
            const stars = '‚òÖ'.repeat(Math.floor(pool.rating)) + '‚òÜ'.repeat(5 - Math.floor(pool.rating));
            
            // Generate features list
            const featuresHtml = pool.features.map(feature => {
                const icon = featureIcons[feature] || '‚úÖ';
                const label = feature.charAt(0).toUpperCase() + feature.slice(1);
                return `<span class="feature">${icon} ${label}</span>`;
            }).join('');
            
            // Generate timing slots
            const timingSlots = pool.timing.map(time => 
                `<span class="time-slot">${time}</span>`
            ).join('');
            
            card.innerHTML = `
                <div class="pool-image">
                    <div class="pool-type">${poolTypeInfo[pool.type].icon} ${pool.type.toUpperCase()}</div>
                    <div class="pool-distance">${pool.distance.toFixed(1)} km</div>
                </div>
                <div class="pool-content">
                    <div class="pool-header">
                        <div>
                            <div class="pool-name">${pool.name}</div>
                            <div class="pool-address">üìç ${pool.address}</div>
                        </div>
                        <div class="pool-price">‚Çπ${pool.price}/hr</div>
                    </div>
                    
                    <div class="pool-rating">
                        <span class="stars">${stars}</span>
                        <span class="rating-value">${pool.rating}</span>
                        <span class="review-count">(${pool.reviews} reviews)</span>
                    </div>
                    
                    <div style="color: #718096; font-size: 0.95rem; margin-bottom: 15px;">
                        ${pool.description}
                    </div>
                    
                    <div class="pool-features">
                        ${featuresHtml}
                    </div>
                    
                    <div class="pool-timing">
                        <div class="timing-title">üïí Available Timings:</div>
                        <div class="timing-slots">
                            ${timingSlots}
                        </div>
                    </div>
                    
                    <div class="pool-footer">
                        <div class="pool-status">
                            <span class="${pool.status === 'open' ? 'status-open' : 'status-closed'}">
                                ‚óè ${pool.status === 'open' ? 'Open Now' : 'Closed'}
                            </span>
                        </div>
                        <button class="book-button" onclick="bookPool(${pool.id})">
                            <span>üìÖ</span> Book Now
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Book pool button click
        function bookPool(poolId) {
            // Find the pool
            let pool;
            for (const city in cityPools) {
                const found = cityPools[city].find(p => p.id === poolId);
                if (found) {
                    pool = found;
                    break;
                }
            }
            
            if (pool) {
                alert(`üèä Booking Confirmed!\n\n` +
                      `Pool: ${pool.name}\n` +
                      `Type: ${poolTypeInfo[pool.type].name}\n` +
                      `Price: ‚Çπ${pool.price} per hour\n` +
                      `Address: ${pool.address}\n` +
                      `Rating: ${pool.rating} ‚≠ê\n\n` +
                      `Please select your preferred timing slot at the pool counter.`);
                
                // In a real app, you would open a booking modal or redirect to booking page
            }
        }

        // Initialize
        updateDistanceValue();
    </script>
</body>
</html>